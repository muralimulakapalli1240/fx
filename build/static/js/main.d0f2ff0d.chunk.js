(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(t,e,r){t.exports=r(58)},57:function(t,e,r){},58:function(t,e,r){"use strict";r.r(e);var a=r(0),n=r.n(a),c=r(26),i=r(10),o=r(5),s=r(1),u=r(4),l=r(28),h=r.n(l),d="wss://stocksimulator.intuhire.com/",p="",f="",g="",v="",C=function(t){return function(e){e({type:"GET_CURRENCY",data:t})}},y={loading:!1,avg:0,count:0,Chart:[],error:null,tick:5},T={loading:!1,avg:0,count:0,Chart:[],error:null,tick:5},b={loading:!1,avg:0,count:0,Chart:[],error:null,tick:5},m={loading:!1,avg:0,count:0,Chart:[],error:null,tick:5},E=-1,k=-1,O=-1,x=-1,R=[],_=Object(o.c)({Get_currency:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_CURRENCY":return Object(u.a)(e.data);default:return t}},Chart1:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_CHART_START1":return Object(s.a)({},t,{loading:!0});case"EMPTY_CHART1":return Object(s.a)({},t,{avg:0,count:0,Chart:[]});case"CHANGE_TICK1":return Object(s.a)({},t,{tick:e.tick});case"GET_CHART_ERROR1":return Object(s.a)({},t,{loading:!1,error:e.error});case"GET_CHART1":var r=Object(u.a)(t.Chart);E++,r.length>t.tick&&r.shift();var a=0;return E>0&&(a=t.avg/E),Object(s.a)({},t,{loading:!1,avg:t.avg+parseFloat(e.data),count:a,Chart:[].concat(Object(u.a)(r),[{index:E,close:parseFloat(e.data)}])});default:return t}},Chart2:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_CHART_START2":return Object(s.a)({},t,{loading:!0});case"EMPTY_CHART2":return Object(s.a)({},t,{avg:0,count:0,Chart:[]});case"GET_CHART_ERROR2":return Object(s.a)({},t,{loading:!1,error:e.error});case"CHANGE_TICK2":return Object(s.a)({},t,{tick:e.tick});case"GET_CHART2":var r=Object(u.a)(t.Chart);k++,r.length>t.tick&&r.shift();var a=0;return k>0&&(a=t.avg/k),Object(s.a)({},t,{loading:!1,avg:t.avg+parseFloat(e.data),count:a,Chart:[].concat(Object(u.a)(r),[{index:k,close:parseFloat(e.data)}])});default:return t}},Chart3:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_CHART_START3":return Object(s.a)({},t,{loading:!0});case"EMPTY_CHART3":return Object(s.a)({},t,{avg:0,count:0,Chart:[]});case"GET_CHART_ERROR3":return Object(s.a)({},t,{loading:!1,error:e.error});case"CHANGE_TICK3":return Object(s.a)({},t,{tick:e.tick});case"GET_CHART3":var r=Object(u.a)(t.Chart);O++,r.length>t.tick&&r.shift();var a=0;return O>0&&(a=t.avg/O),Object(s.a)({},t,{loading:!1,avg:t.avg+parseFloat(e.data),count:a,Chart:[].concat(Object(u.a)(r),[{index:O,close:parseFloat(e.data)}])});default:return t}},Chart4:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_CHART_START4":return Object(s.a)({},t,{loading:!0});case"EMPTY_CHART4":return Object(s.a)({},t,{avg:0,count:0,Chart:[]});case"GET_CHART_ERROR4":return Object(s.a)({},t,{loading:!1,error:e.error});case"CHANGE_TICK4":return Object(s.a)({},t,{tick:e.tick});case"GET_CHART4":var r=Object(u.a)(t.Chart);x++,r.length>t.tick&&r.shift();var a=0;return x>0&&(a=t.avg/k),Object(s.a)({},t,{loading:!1,avg:t.avg+parseFloat(e.data),count:a,Chart:[].concat(Object(u.a)(r),[{index:x,close:parseFloat(e.data)}])});default:return t}}}),A=r(7),j=r(8),P=r(12),H=r(9),G=r(11),w=r(2),N=function(t){function e(){var t,r;Object(A.a)(this,e);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(r=Object(P.a)(this,(t=Object(H.a)(e)).call.apply(t,[this].concat(c)))).chart=n.a.createRef(),r.flag=!1,r.state={select:""},r.chartProps={},r}return Object(G.a)(e,t),Object(j.a)(e,[{key:"componentDidMount",value:function(){this.props.chart.length>4&&this.buildChart()}},{key:"componentDidUpdate",value:function(t){var e=this.props,r=e.chart,a=e.selected;r.length>4&&(this.flag?a!==t.selected?(w.g("#chart").selectAll("svg").remove(),this.buildChart()):this.updateChart():this.buildChart())}},{key:"shouldComponentUpdate",value:function(t){return JSON.stringify(t.chart)!==JSON.stringify(this.props.chart)}},{key:"updateTicks",value:function(){}},{key:"updateChart",value:function(){var t=600-50-20,e=270-30-30,r=this.props,a=r.chart,n=r.tick,c=w.d(a,function(t){return t.close}),i=w.e(a,function(t){return t.close}),o=c-i;i-=o,c+=o,this.chartProps.x.domain([w.e(a,function(t){return t.index}),w.d(a,function(t){return t.index})]).range([0,t-50]),this.chartProps.y.domain([i,c]).range([e,0]),this.chartProps.svg.transition(),this.chartProps.svg.select(".line").attr("d",this.chartProps.valueline(a)),this.chartProps.svg.select(".x.axis").call(this.chartProps.xAxis.ticks(n)),this.chartProps.svg.select(".y.axis").call(this.chartProps.yAxis);var s=this;this.chartProps.svg.selectAll(".lineLegend").remove(),this.chartProps.svg.selectAll(".lineLegend").data(a).enter().append("g").attr("class","lineLegend").style("stroke","white").attr("x",function(t,e){return s.chartProps.x(t.index)}).attr("y",function(t){return s.chartProps.y(t.close.toFixed(4))}).append("text").text(function(t){return t.close.toFixed(4)}).attr("x",function(t,e){return s.chartProps.x(t.index)}).attr("y",function(t){return s.chartProps.y(t.close.toFixed(4))-20})}},{key:"buildChart",value:function(){this.flag=!0;var t=this.props,e=t.chart,r=t.tick;this.chartProps={};var a=w.d(e,function(t){return t.close}),n=w.e(e,function(t){return t.close}),c=a-n;n-=c,a+=c;var i=30,o=20,s=30,u=50,l=600-u-o,h=270-i-s;this.chartProps.x=w.f().domain([w.e(e,function(t){return t.index}),w.d(e,function(t){return t.index})]).range([0,l-50]),this.chartProps.y=w.f().domain([n,a]).range([h,0]);var d=w.a(this.chartProps.x).tickFormat(function(t){return"t"+t}).ticks(r).tickSize(15).tickSizeInner([-20]).tickSizeOuter([0]),p=w.b(this.chartProps.y).ticks(5).tickSize(15),f=this,g=w.c().x(function(t,e){return f.chartProps.x(t.index)}).y(function(t){return f.chartProps.y(t.close.toFixed(4))}),v=w.g(this.chart.current).append("svg").attr("width",l+u+o).attr("height",h+i+s).append("g").attr("transform","translate(".concat(u,",").concat(i,")"));v.append("g").attr("class","x axis").attr("transform","translate(0,".concat(h,")")).call(d),v.append("path").datum(e).attr("class","line").style("stroke","white").style("fill","none").attr("d",g),v.selectAll(".lineLegend").data(e).enter().append("g").attr("class","lineLegend").style("stroke","white").attr("x",function(t,e){return f.chartProps.x(t.index)}).attr("y",function(t){return f.chartProps.y(t.close.toFixed(4))}).append("text").text(function(t){return t.close.toFixed(4)}).attr("x",function(t,e){return f.chartProps.x(t.index)}).attr("y",function(t){return f.chartProps.y(t.close.toFixed(4))-20}),this.chartProps.svg=v,this.chartProps.valueline=g,this.chartProps.xAxis=d,this.chartProps.yAxis=p}},{key:"render",value:function(){return n.a.createElement("div",{className:"chart",ref:this.chart})}}]),e}(n.a.Component),S=function(t){var e=t.updateQuantity,r=t.ticks;return n.a.createElement("div",{className:"stepper-input"},n.a.createElement("button",{className:"counter",onClick:function(){return e(-1)},disabled:r<=0},"\u2013"),n.a.createElement("span",{className:"counter"}," ",r),n.a.createElement("button",{className:"counter",onClick:function(){return e(1)}},"+"))},F=10,D=function(t){function e(){var t,r;Object(A.a)(this,e);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(r=Object(P.a)(this,(t=Object(H.a)(e)).call.apply(t,[this].concat(c)))).chart=n.a.createRef(),r.bool=!0,r.color="",r.DefaultVal=0,r.default=0,r.state={selected:"",tick:5},r.handleChange=function(t){var e=r.props.getchart;r.setState({selected:t.target.value},r.props[e]({currencyPair:t.target.value}))},r.updateQuantity=function(t){var e=r.props,a=e.index,n=e.charttype,c=r.props[n].tick;r.props.ChangeTick(c+t,a)},r}return Object(G.a)(e,t),Object(j.a)(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.getchart,r=t.currency,a=t.index;this.props[e]({currencyPair:r[a].currency_name}),this.setState(function(){return{selected:r[a].currency_name}})}},{key:"render",value:function(){var t=this.props,e=t.currency,r=t.charttype,a=this.props[r],c=a.Chart,i=a.tick,o=this.state.selected;c.length>0&&c.length<=1&&(this.DefaultVal=c[0].close.toFixed(4).toString().split(""),this.Default=c[0].close,this.bool=!1);var s={background:"rgba(230, 0, 0, 1)"};if(this.Default>0&&c.length-1>=i){var u=c.reduce(function(t,e){return t+e.close},0),l="";if((F=(u/c.length-this.Default)/this.Default*100)>5)l="rgba(230, 0, 0, 1)";else if(F<=5&&F>.5){var h=F/4.5*100;h/100<.7&&(h=70),l="rgba(128, 0, 0, "+(h/100).toFixed(1)+")"}else if(F<=.5&&F>-.5){var d=F/4.5*100+100;d/100<.5&&(d=50),l="rgba(128, 0, 0, "+(d/100).toFixed(1)+")"}else if(F<=-.5&&F>-5){var p=F/4.5*100+100;p/100<.5&&(p=50),l="rgba(50, 117, 55, "+(p/100).toFixed(1)+")"}else F<=-5&&(l="rgba(50, 228, 64, 1)");s={background:l}}return n.a.createElement("div",{className:"Charttab",style:s},c.length-1>=i?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"side"},n.a.createElement("div",{className:"dropdown"},n.a.createElement("select",{value:this.state.selected,onChange:this.handleChange},e.map(function(t,e){return n.a.createElement("option",{key:e,value:t.currency_name},t.currency_name)}))),n.a.createElement("h1",null,F.toFixed(2),"%")),n.a.createElement("div",{className:"side"},n.a.createElement("h1",null,this.DefaultVal.map(function(t,e){return n.a.createElement("span",{key:e},t)})),n.a.createElement(S,{ticks:i,updateQuantity:this.updateQuantity}))),n.a.createElement(N,{currency:e,chart:c,tick:i,selected:o})):n.a.createElement("div",{className:"loading"},"Loading..."))}}]),e}(n.a.Component),M=Object(i.b)(function(t){return{currency:t.Get_currency,Chart1:t.Chart1,Chart2:t.Chart2,Chart3:t.Chart3,Chart4:t.Chart4}},function(t){return{getChart1:function(e,r){return t(function(t){return function(e){e({type:"GET_CHART_START1",undefined:void 0}),e({type:"EMPTY_CHART1",undefined:void 0}),p&&p.close(),(p=new WebSocket(d)).onopen=function(e){p.send(JSON.stringify(t))},p.onmessage=function(t){e({type:"GET_CHART1",data:t.data})},p.onerror=function(t){console.log("Error: "+t)}}}(e))},getChart2:function(e,r){return t(function(t){return function(e){e({type:"GET_CHART_START2",undefined:void 0}),e({type:"EMPTY_CHART2",undefined:void 0}),f&&f.close(),(f=new WebSocket(d)).onopen=function(e){f.send(JSON.stringify(t))},f.onmessage=function(t){e({type:"GET_CHART2",data:t.data})},f.onerror=function(t){console.log("Error: "+t)}}}(e))},getChart3:function(e,r){return t(function(t){return function(e){e({type:"GET_CHART_START3",undefined:void 0}),e({type:"EMPTY_CHART3",undefined:void 0}),g&&g.close(),(g=new WebSocket(d)).onopen=function(e){g.send(JSON.stringify(t))},g.onmessage=function(t){e({type:"GET_CHART3",data:t.data})},g.onerror=function(t){console.log("Error: "+t)}}}(e))},getChart4:function(e,r){return t(function(t){return function(e){e({type:"GET_CHART_START4",undefined:void 0}),e({type:"EMPTY_CHART4",undefined:void 0}),v&&v.close(),(v=new WebSocket(d)).onopen=function(e){v.send(JSON.stringify(t))},v.onmessage=function(t){e({type:"GET_CHART4",data:t.data})},v.onerror=function(t){console.log("Error: "+t)}}}(e))},ChangeTick:function(e,r){return t(function(t,e){return{type:"CHANGE_TICK"+(e+1),tick:t}}(e,r))}}})(D),Y=function(t){function e(){var t,r;Object(A.a)(this,e);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(r=Object(P.a)(this,(t=Object(H.a)(e)).call.apply(t,[this].concat(c)))).chart=n.a.createRef(),r}return Object(G.a)(e,t),Object(j.a)(e,[{key:"render",value:function(){var t=this.props.currency;return n.a.createElement("div",{className:"App"},t.length>0?n.a.createElement(n.a.Fragment,null,n.a.createElement(M,{currency:t,charttype:"Chart1",getchart:"getChart1",index:0}),n.a.createElement(M,{currency:t,charttype:"Chart2",getchart:"getChart2",index:1}),n.a.createElement(M,{currency:t,charttype:"Chart3",getchart:"getChart3",index:2}),n.a.createElement(M,{currency:t,charttype:"Chart4",getchart:"getChart4",index:3})):"")}}]),e}(n.a.Component),J=Object(i.b)(function(t){return{currency:t.Get_currency}})(Y),I=r(29),L=(r(57),Object(o.d)(_,Object(o.a)(I.a)));L.dispatch(function(t){return h.a.get("".concat("https://restsimulator.intuhire.com/currency_pairs")).then(function(e){t(C(e.data))}).catch(function(t){throw t})}),Object(c.render)(n.a.createElement(i.a,{store:L},n.a.createElement(J,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.d0f2ff0d.chunk.js.map